ğŸ¯ Ziel:
Verbessere die Benutzererfahrung bei der Nutzung der Story-Komponente und sichere die DatenintegritÃ¤t und individuelle Kontrolle Ã¼ber Inhalte durch Besucher-ID-Tracking und Rechteverwaltung.

1. âœ… BUGFIX: Story-Komponente flackert und Fortschrittsbar funktioniert nicht korrekt
Beschreibung:

Beim Abspielen von Storys kommt es zu einem visuellen Flackern.

Die Fortschrittsleiste (Progress-Bar) ist entweder fehlerhaft oder inkonsistent.

Ziel:

Fehlerfreies sequentielles Abspielen aller Storys.

Korrekte Anzeige der Fortschrittsbar je nach Dauer (Ã¤hnlich wie bei Instagram/Snapchat).

Kein Flackern beim Ãœbergang.

Technischer Hinweis:

PrÃ¼fe Zustandshandling in der useEffect-Logik.

Stelle sicher, dass Komponenten nicht unnÃ¶tig neu gemountet werden.

Progressbar eventuell mit setInterval oder requestAnimationFrame koppeln statt setTimeout.

2. ğŸ§  Feature: Besucher sollen automatisch einer anonymen ID zugewiesen werden
Beschreibung:

Jeder Besucher soll automatisch eine eindeutige ID erhalten â€“ idealerweise gerÃ¤tebasiert (Fingerprint oder UUID).

Diese ID wird genutzt, um:

Hochgeladene Inhalte zuzuordnen.

LÃ¶schrechte nur fÃ¼r den Uploader zu ermÃ¶glichen.

Nachverfolgung der Besucher ohne Login.

Technische Umsetzung:

Nutze localStorage zur persistierenden Speicherung der ID im Browser.

Erzeuge die ID mit z.â€¯B. uuidv4() oder Ã¼ber ein Fingerprinting-Modul.

Beim Upload speichere uploadedByVisitorId im Firestore-Dokument.

Nutze Firebase-Security-Rules zur Absicherung (z.â€¯B. request.auth.token.visitorId == resource.data.uploadedByVisitorId falls mit Custom Claims).

Ziel:

Jeder Besucher erhÃ¤lt eine einmalige ID.

Diese ID bleibt auch beim erneuten Aufrufen der Seite bestehen (lokal gespeichert).

Anonyme, aber kontrollierte Zuweisung von Uploads.

3. ğŸ”’ Feature: Nur der Ersteller darf seine Inhalte lÃ¶schen (ausser admin)
Beschreibung:

Aktuell kann jeder Inhalte anderer Besucher lÃ¶schen.

Es fehlt eine ZugriffsbeschrÃ¤nkung pro Upload.

Technische Umsetzung:

Beim Upload speichere die visitorId als ownerId im Dokument.

LÃ¶schen (Button anzeigen und erlauben) nur, wenn ownerId === localVisitorId.

Firebase Security Rules entsprechend erweitern: (sind aber schon richtig)

js

match /galleries/{userId}/{mediaId} {
  allow delete: if request.auth.token.visitorId == resource.data.ownerId;
}
Oder bei anonymen Usern ohne Auth:

js

allow delete: if request.resource.data.ownerId == request.resource.data.visitorId;
4. ğŸ“ BUGFIX: Notizen (Notes) sind visuell editierbar, aber Ã„nderungen werden nicht gespeichert
Beschreibung:

Ã„nderungen im Notizen-Feld sind mÃ¶glich, werden aber nicht in Firestore gespeichert.

LÃ¶sung:

Stelle sicher, dass beim Speichern ein Update auf das Firestore-Dokument erfolgt (updateDoc()).

FÃ¼ge eine onBlur- oder â€Speichernâ€œ-SchaltflÃ¤che hinzu.

Zeige Feedback nach dem Speichern (âœ… â€Notiz gespeichertâ€œ).